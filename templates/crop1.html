<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>पिक शिफारस प्रणाली</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='crop.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    {% include "base1.html" %}

    <h1>पिक शिफारस प्रणाली</h1>
    <div class="container">
        <form action="/crop-predict" method="POST" id="cropForm" onsubmit="return validateForm()">
            <label for="nitrogen">नायट्रोजन (N):</label>
            <input type="text" id="nitrogen" name="nitrogen" placeholder="0 - 200">

            <label for="phosphorous">फास्फोरस (P):</label>
            <input type="text" id="phosphorous" name="phosphorous" placeholder="0 - 100">

            <label for="potassium">पोटॅशियम (K):</label>
            <input type="text" id="potassium" name="potassium" placeholder="0 - 200">

            <label for="ph">pH:</label>
            <input type="text" id="ph" name="ph" placeholder="4.0 - 9.0">

            <label for="rainfall">पर्जन्यवृष्टी (मिमी):</label>
            <input type="text" id="rainfall" name="rainfall" placeholder="0 - 5000">

            <label for="city">शहर:</label>
            <input type="text" id="city" name="city" placeholder="शहराचे नाव">

            <input type="submit" value="पिक शिफारस करा">
        </form>

        {% if prediction %}
            <div class="answer">
                <p>दिलेल्या अटीसाठी शिफारस केलेले पिक: <strong>{{ prediction }}</strong></p>
            </div>
        {% endif %}

        {% if error %}
            <div class="error">{{ error }}</div>
        {% endif %}
    </div>
    {% include "footer1.html" %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Form आणि संदेश रीसेट करण्यासाठी फंक्शन
            function resetForm() {
                document.getElementById('cropForm').reset();  // फॉर्म क्षेत्रे रीसेट करा
                document.getElementById('predictionMessage').style.display = 'none';  // शिफारस संदेश लपवा
                document.getElementById('errorMessage').style.display = 'none';  // त्रुटी संदेश लपवा
            }
        
            // पृष्ठ लोड किंवा रीफ्रेश झाल्यावर resetForm फंक्शन कॉल करा
            resetForm();
        });

        function validateForm() {
            var nitrogen = document.getElementById('nitrogen').value;
            var phosphorous = document.getElementById('phosphorous').value;
            var potassium = document.getElementById('potassium').value;
            var ph = document.getElementById('ph').value;
            var rainfall = document.getElementById('rainfall').value;

            // मूलभूत प्रमाणीकरण उदाहरण (आपल्याला आवश्यकतानुसार हे विस्तारित करू शकता)
            if (isNaN(nitrogen) || isNaN(phosphorous) || isNaN(potassium) || isNaN(ph) || isNaN(rainfall)) {
                alert("कृपया नायट्रोजन, फास्फोरस, पोटॅशियम, pH, आणि पर्जन्यवृष्टीसाठी वैध अंकात्मक मूल्ये भरा.");
                return false;
            }

            // उदाहरण रेंज प्रमाणीकरण (आपल्या आवश्यकतांनुसार श्रेणी समायोजित करा)
            if (nitrogen < 0 || nitrogen > 200 || phosphorous < 0 || phosphorous > 100 ||
                potassium < 0 || potassium > 200 || ph < 4.0 || ph > 9.0 || rainfall < 0 || rainfall > 5000) {
                alert("कृपया दिलेल्या श्रेणीत मूल्ये भरा:\nनायट्रोजन: 0 - 200\nफास्फोरस: 0 - 100\nपोटॅशियम: 0 - 200\npH: 4.0 - 9.0\nपर्जन्यवृष्टी: 0 - 5000");
                return false;
            }

            return true;  // फॉर्म सबमिशनला परवानगी
        }
    </script>
</body>
</html>
